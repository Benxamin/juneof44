<html>
<head>
	<title>Cropper</title>
</head>
<body>
<style type="text/css">
/* Page */
body {
	font-family: "Helvetica Neue", Helvetica, Arial, sans;
	margin: 0;
}
header {
	background: #f1f1f1;
	border-bottom: 2px solid #333;
}
article {

}
footer {
	background: #212121;
	color: #c00;
	text-align: center;
}
.inner {
	padding: 1em 0;
	margin: 0 auto;
	max-width: 800px;
	min-width: 300px;
}
/* Image Control */
.image {
	background: url(http://placekitten.com/800/500); 
	background-size: cover; 
	height: 300px; 
	width: 300px; 
	position: relative;
}
.img-control {
	background: #999;
	border: none;
	color: #fff;
	cursor: pointer;
	display: block;
	height: 48px;
	width: 48px;
	font-size: 35px;
	line-height: 42px;
	text-align: center;
	overflow: hidden;
	opacity: 0.8;
	position: absolute;
}
.img-control:hover,
.img-control:active {
	opacity: 1.0;
}
.img-delete {
	top: 0;
	right: 0;
}
.img-rotate {
	bottom: 8px;
	left: 8px;
}
.img-crop {
	bottom: 8px;
	left: 68px;
}
/* Modal */
.modal {
	background: rgba(21, 21, 21, 0.85);
	display: none;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	position: absolute;
	text-align: center;
	height: 101%;
	width: 101%;
	z-index: 100;
}
.modal-inner {
	display: table-cell;
	position: relative;
	vertical-align: middle;
}
/* Crop Tool */
.crop-border {
	border: 1px solid #000;
	border-bottom-width: 2px;
	margin: 0 auto;
	position: relative;
	height: 500px;
	width: 800px;
}
.original {
	position: absolute;
	top: 0;
	left: 0;
}
.overlay,
.handle {
	border: 1px solid #fff;
	position: absolute;
}
.overlay {
	cursor: move;
	height: 300px;
	width: 300px;
}
.handle {
	background: #fff;
	border: 1px solid #fff;
	position: absolute;
	height: 3px;
	width: 3px;
	bottom: -3px;
}
.handle.nw,
.handle.ne {
	top: -3px;
	left: -3px;
}
.handle.ne {
	left: auto;
	right: -3px;
}
.handle.sw,
.handle.se {
	left: -3px;
}
.handle.se {
	left: auto;
	right: -3px;
}
.handle.se,
.handle.nw {
	cursor: nwse-resize;
}
 .handle.ne,
 .handle.sw {
 	cursor: nesw-resize;
}
</style>
	<header aria-role="header">
		<div class="inner">
			<h1>Cropper</h1>
		</div>
	</header>
	<article aria-role="main">
		<div class="inner">
			<h4>Cropper</h4>
			<div class="image">
				<button class="img-control img-delete" title="Delete this image">&times;</button>
				<button class="img-control img-rotate" title="Rotate this image 90ยบ clockwise">โฑ</button>
				<button class="img-control img-crop" title="Crop this image">&#164;</button>
			</div>
		</div>	
	</article>
	<footer aria-role="footer">
		<div class="inner">
			<h6>cropper</h6>
		</div>
	</footer>
	<div class="modal" id="subModal">
		<div class="modal-inner">
			<div class="crop-border">
				<img class="original" src="http://placekitten.com/800/500" title="Cropping...">
				<div class="overlay">
					<div class="handle nw"></div>
					<div class="handle ne"></div>
					<div class="handle se"></div>
					<div class="handle sw"></div>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		function showModal(someId) {
			var submodal = document.getElementById(someId);
			submodal.setAttribute("style", "display:table;");
			submodal.className += ' show';

			document.addEventListener("keydown", function(e) {
    			e = e || window.event;
    			var keycode = (typeof(e.which) == "number") ? e.which : e.keyCode;
    			if (keycode === 27) {
					hideModal(someId);
				}
			});
		}
		function hideModal(someId) {
			var submodal = document.getElementById(someId);
			var spot = subModal.className.indexOf("show");

			if (spot > -1) {
				submodal.setAttribute("style", "display:none;");
				submodal.className = submodal.className;
			}
		}

		var cropBtn = document.getElementsByClassName("img-crop");
		cropBtn[0].addEventListener("click", function() {
			showModal("subModal");
		});
	</script>
</body>
</html>